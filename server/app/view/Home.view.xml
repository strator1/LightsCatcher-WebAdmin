<core:View
      controllerName="LightsCatcher.controller.Home"
      xmlns:l="sap.ui.layout"
      xmlns:core="sap.ui.core"
      xmlns="sap.m">
   <Page
         id="idHomePage"
         showHeader="true"
         busyIndicatorDelay="0"
         busy="{viewDetailModel>/busy}"
         title="Lights Catcher Admin Panel"
         floatingFooter="true"
         enableScrolling="true">
      <content>
         <l:VerticalLayout
               width="100%">
            <l:content>
               <Table id="idLightsTable"
                      mode="MultiSelect"
                      includeItemInSelection="true"
                      selectionChange="onTableSelectionChange"
                      inset="true"
                      growing="true"
                      growingThreshold="10"
                      items="{lightsModel>/}">
                  <headerToolbar>
                     <Toolbar>
                        <Title text="Lights" level="H2"/>
                        <ToolbarSpacer></ToolbarSpacer>
                        <Button tooltip="Refresh" icon="sap-icon://refresh"
                                press="onRefreshListPressed"/>
                     </Toolbar>
                  </headerToolbar>
                  <infoToolbar>
                     <Toolbar
                           id="vsdFilterBar"
                           active="true"
                           visible="false"
                           press="[handleViewSettingsDialogFilterBarPressed, views.control.tableViewSettingsDialog]">
                        <Label id="vsdFilterLabel" text="?"/>
                     </Toolbar>
                  </infoToolbar>
                  <columns>
                     <Column>
                        <Text text="Image"/>
                     </Column>
                     <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Phases"/>
                     </Column>
                     <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="User"/>
                     </Column>
                     <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Created At"/>
                     </Column>
                     <Column >
                        <Text text="Actions"/>
                     </Column>
                  </columns>
                  <items>
                     <ColumnListItem>
                        <cells>
                           <Image
                                 src="{lightsModel>imageUrl}"
                                 press="onImagePressed"
                                 width="50%"
                                 height="10%"/>
                           <Text text="{lightsModel>lightPhases}"/>
                           <Link text="{lightsModel>user}"/>
                           <Text text="{path: 'lightsModel>createdAt', formatter: '.formatter.formatTimestampToData'}"/>
                           <VBox>
                              <Button type="Transparent" icon="sap-icon://delete" text="Remove Picture" press="onRemovePicturePress" />
                              <Button type="Reject" icon="sap-icon://private" text="Remove Picture &amp; Ban User" press="onRemovePicAndUserPress" />
                           </VBox>
                        </cells>
                     </ColumnListItem>
                  </items>
               </Table>
            </l:content>
         </l:VerticalLayout>
      </content>
      <footer>
         <Toolbar>
            <ToolbarSpacer />
            <Button id="idDeleteSelectedBtn" icon="sap-icon://delete" text="Remove selected" enabled="false" press="onRemoveAllSelected" />
            <Button id="idBanAllSelectedBtn" type="Reject" icon="sap-icon://private" text="Remove &amp; Ban selected" enabled="false" press="onRemoveBanAllSelected" />
         </Toolbar>
      </footer>
   </Page>
</core:View>